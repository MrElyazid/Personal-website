/* Dark Mode Support */

/* Bulma's automatic dark mode based on system preference */
@media (prefers-color-scheme: dark) {
  :root {
    /* Bulma dark theme variables */
    --bulma-scheme-brightness: dark;
    --bulma-scheme-main-l: 11%;
    --bulma-scheme-main-bis-l: 13%;
    --bulma-scheme-main-ter-l: 15%;
    --bulma-background-l: 14%;
    --bulma-border-weak-l: 21%;
    --bulma-border-l: 24%;
    --bulma-text-weak-l: 53%;
    --bulma-text-l: 71%;
    --bulma-text-strong-l: 93%;
    --bulma-text-title-l: 100%;
    --bulma-hover-background-l-delta: 5%;
    --bulma-active-background-l-delta: 10%;
    --bulma-hover-border-l-delta: 10%;
    --bulma-active-border-l-delta: 20%;
    --bulma-hover-color-l-delta: 5%;
    --bulma-active-color-l-delta: 10%;
    --bulma-shadow-color: white;
  }
}

/* Manual dark mode using data attribute or CSS class */
[data-theme="dark"],
.theme-dark {
  /* Bulma dark theme variables */
  --bulma-scheme-brightness: dark;
  --bulma-scheme-main-l: 11%;
  --bulma-scheme-main-bis-l: 13%;
  --bulma-scheme-main-ter-l: 15%;
  --bulma-background-l: 14%;
  --bulma-border-weak-l: 21%;
  --bulma-border-l: 24%;
  --bulma-text-weak-l: 53%;
  --bulma-text-l: 71%;
  --bulma-text-strong-l: 93%;
  --bulma-text-title-l: 100%;
  --bulma-hover-background-l-delta: 5%;
  --bulma-active-background-l-delta: 10%;
  --bulma-hover-border-l-delta: 10%;
  --bulma-active-border-l-delta: 20%;
  --bulma-hover-color-l-delta: 5%;
  --bulma-active-color-l-delta: 10%;
  --bulma-shadow-color: white;
}

/* Custom dark mode styles for your specific elements */
[data-theme="dark"] #particle-canvas,
.theme-dark #particle-canvas {
  background-color: #1a1a1a;
}

/* Dark mode styles for chess puzzle iframe */
[data-theme="dark"] .chess-puzzle,
.theme-dark .chess-puzzle {
  border: 1px solid #3a3a3a;
  background-color: #2a2a2a;
}

/* Dark mode styles for social icons */
[data-theme="dark"] .icon-link,
.theme-dark .icon-link {
  background-color: #2a2a2a;
  border-color: #3a3a3a;
}

[data-theme="dark"] .icon-link:hover,
.theme-dark .icon-link:hover {
  background-color: #3a3a3a;
  transform: translateY(-2px);
}

/* Dark mode styles for article cards */
[data-theme="dark"] .article-card,
.theme-dark .article-card {
  background-color: #2a2a2a;
  border-color: #3a3a3a;
}

[data-theme="dark"] .article-card:hover,
.theme-dark .article-card:hover {
  background-color: #3a3a3a;
  box-shadow: 0 8px 16px rgba(255, 255, 255, 0.1);
}

/* Dark mode for code blocks */
[data-theme="dark"] .article-body pre,
.theme-dark .article-body pre {
  background-color: #1e1e1e;
  border-color: #3a3a3a;
  color: #e0e0e0;
}

[data-theme="dark"] .article-body code,
.theme-dark .article-body code {
  background-color: #2a2a2a;
  color: #ff6b9d;
}

/* Dark mode for blockquotes */
[data-theme="dark"] .article-body blockquote,
.theme-dark .article-body blockquote {
  background-color: #2a2a2a;
  border-left-color: #007bff;
}

/* Dark mode for tables */
[data-theme="dark"] .article-body table,
.theme-dark .article-body table {
  border-color: #3a3a3a;
}

[data-theme="dark"] .article-body th,
.theme-dark .article-body th {
  background-color: #2a2a2a;
}

[data-theme="dark"] .article-body tr:hover,
.theme-dark .article-body tr:hover {
  background-color: #3a3a3a;
}

/* Theme toggle button styles */
.theme-toggle {
  background: none;
  border: none;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 50%;
  transition: all 0.3s ease;
  color: inherit;
}

.theme-toggle:hover {
  background-color: rgba(0, 0, 0, 0.1);
}

[data-theme="dark"] .theme-toggle:hover,
.theme-dark .theme-toggle:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Hide/show theme icons based on current theme */
.theme-toggle .light-icon {
  display: none;
}

.theme-toggle .dark-icon {
  display: inline-block;
}

[data-theme="dark"] .theme-toggle .light-icon,
.theme-dark .theme-toggle .light-icon {
  display: inline-block;
}

[data-theme="dark"] .theme-toggle .dark-icon,
.theme-dark .theme-toggle .dark-icon {
  display: none;
}
